{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "test-watch",
      "icon": {
        "color": "terminal.ansiCyan",
        "id": "sync"
      },
      "type": "npm",
      "script": "build-test-watch",
      "group": "test",
      "problemMatcher": "$tsc-watch",
      "isBackground": true,
      "dependsOn": "build-watch" // We need to also build main.js extension for testing or it leads to sourcemap errors
    },
    {
      "label": "build-watch",
      "icon": {
        "color": "terminal.ansiCyan",
        "id": "sync"
      },
      "type": "npm",
      "script": "build-watch",
      "group": "build",
      "problemMatcher": {
				"owner": "typescript",
				"pattern": {
					"regexp": "^(.*):(\\d+):(\\d+) - (error|warning) TS(\\d+): (.*)$",
					"file": 1,
					"line": 2,
					"column": 3,
					"severity": 4,
					"code": 5,
					"message": 6
				},
				"severity": "info",
				"source": "swc",
				"fileLocation": [
					"relative",
					"${workspaceFolder}"
				],
				"background": {
					"activeOnStart": true,
					"beginsPattern": "^rollup v\\d+\\.\\d+\\.\\d+$",
					"endsPattern": {
						"regexp": "^\\[[:-\\s\\d]+\\] waiting for changes\\.\\.\\.$"
					}
				}
			},
      "isBackground": true,
    }
  ]
}
